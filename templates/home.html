{% extends 'base.html' %}
{% block content %}

<h2 class="mb-4">ğŸ“… Kunlik xarajatlar roâ€˜yxati</h2>
    
<div class="table-responsive shadow rounded">
    <table class="table table-bordered table-hover text-center align-middle">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Sana</th>
                <th>Ovqat</th>
                <th>Transport</th>
                <th>Salomatlik</th>
                <th>Boshqa</th>
                <th>Jami</th>
                <th>Izoh</th>
                <th>Amallar</th>
            </tr>
        </thead>
        <tbody>
            {% for expense in expenses %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ expense.date }}</td>
                <td>{{ expense.ovqat }}</td>
                <td>{{ expense.transport }}</td>
                <td>{{ expense.salomatlik }}</td>
                <td>{{ expense.boshqa }}</td>
                <td><strong>{{ expense.total_sum }}</strong></td>
                <td>{{ expense.izoh }}</td>
                <td>
                    <!-- Edit tugmasi -->
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#editModal{{ expense.id }}">âœï¸</button>
                    <!-- Delete tugmasi -->
                    <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ expense.id }}">ğŸ—‘ï¸</button>
                </td>
            </tr>

            <!-- Modallarni shu yerga include qilamiz -->
            {% include 'modal_edit.html' with expense=expense %}
            {% include 'modal_delete.html' with expense=expense %}

            {% empty %}
            <tr><td colspan="9">Xarajatlar yoâ€˜q</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
